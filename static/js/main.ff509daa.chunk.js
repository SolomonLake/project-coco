(window["webpackJsonpdemo-react"]=window["webpackJsonpdemo-react"]||[]).push([[0],{41:function(e,t,n){e.exports=n(52)},52:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(7),c=n.n(o),i=n(11),u=n.n(i),s=n(14),l=n(86),p=function(){return a.a.createElement(l.a,null,"Loading")},m=n(28),f=n(15);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var w={view:"initial"};function v(e,t){switch(console.log("appStoreReducer previous state:",e),console.log("appStoreReducer",t),t.type){case"CHANGE_VIEW":return n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{view:t.view}),console.log("appStoreReducer computed state",n),n;default:t.type;return e}var n}var h=a.a.createContext(null);var O={view:"initial"};function E(e,t){switch(console.log("joinGroupStoreReducer previous state:",e),console.log("joinGroupStoreReducer",t),t.type){case"UPDATE_JOIN_ID":return n=e,console.log("joinGroupStoreReducer computed state",n),n;default:t.type;return e}var n}a.a.createContext(null);var y,b={createGroup:function(){var e=Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},g=n(92),j=n(94),N=n(89),C=n(90),I=function(){var e=Object(r.useContext)(h);!function(){var e=Object(r.useReducer)(E,O),t=Object(m.a)(e,2);t[0],t[1]}();return a.a.createElement(N.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:5},a.a.createElement(N.a,{item:!0},a.a.createElement(N.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2},a.a.createElement(N.a,{item:!0},a.a.createElement(g.a,{label:"Group Id",margin:"normal",variant:"outlined"})),a.a.createElement(N.a,{item:!0},a.a.createElement(j.a,{color:"primary"},"Join")))),a.a.createElement(C.a,{variant:"middle"}),a.a.createElement(N.a,{item:!0},a.a.createElement(j.a,{color:"secondary",onClick:Object(s.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.dispatch({type:"CHANGE_VIEW",view:"loading"}),t.next=3,b.createGroup();case 3:e.dispatch({type:"CHANGE_VIEW",view:"main"});case 4:case"end":return t.stop()}},t)}))},"Create Group")))},_=function(){Object(r.useContext)(h);return a.a.createElement(l.a,null,"Main")},k=function(){switch(window.location.host){case"localhost:3006":return{CLOUD_FUNCTION_ENDPOINT:"http://localhost:8080"};case"solomonlake.github.io":return{CLOUD_FUNCTION_ENDPOINT:"https://us-central1-project-coco-251813.cloudfunctions.net"};default:throw new Error("unknown window host:".concat(window.location.host))}},x=function(e){var t=new RegExp(e+"=(.*?)($|&)","g"),n=decodeURIComponent(window.location.search).match(t);return n&&n.length?n[0].replace(e+"=","").replace("&",""):null},D={initialize:function(){return y=new Promise(function(e,t){var n=x("zoom_token_data");if(n){var r=JSON.parse(decodeURIComponent(n));window.history.pushState({},document.title,window.location.origin+window.location.pathname),e(r)}else window.location.href=k().CLOUD_FUNCTION_ENDPOINT+"/zoomGetTokenData",e({expiresAt:0,access_token:"",token_type:"",refresh_token:"",expires_in:0,scope:""})})},getToken:function(){return y||D.initialize()}},P={getUser:function(){var e=Object(s.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.zoom.us/v2/users/me",e.next=3,U("https://api.zoom.us/v2/users/me");case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()};function U(e){return T.apply(this,arguments)}function T(){return(T=Object(s.a)(u.a.mark(function e(t){var n,r,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.getToken();case 2:return n=e.sent,e.next=5,fetch(k().CLOUD_FUNCTION_ENDPOINT+"/zoomApiProxy?endPoint=".concat(t,"&zoomTokenData=").concat(encodeURIComponent(JSON.stringify(n))));case 5:return r=e.sent,e.next=8,r.json();case 8:return a=e.sent,e.abrupt("return",a);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function G(){return(G=Object(s.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return D.initialize(),e.next=3,P.getUser();case 3:n=e.sent,console.log("zoom user",n),t.dispatch({type:"CHANGE_VIEW",view:"joinGroup"});case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}n(51);var R=n(95),S=n(91),z=n(29),A=n(36),J=Object(A.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:z.a.A400},background:{default:"#fff"}}});fetch(k().CLOUD_FUNCTION_ENDPOINT+"/firestoreDb"),c.a.render(a.a.createElement(S.a,{theme:J},a.a.createElement(R.a,null),a.a.createElement(function(){var e=function(){var e=Object(r.useReducer)(v,w),t=Object(m.a)(e,2);return{state:t[0],dispatch:t[1]}}();switch(e.state.view){case"initial":return function(e){G.apply(this,arguments)}(e),a.a.createElement(p,null);case"loading":return a.a.createElement(p,null);case"joinGroup":return a.a.createElement(h.Provider,{value:e},a.a.createElement(I,null));case"main":return a.a.createElement(h.Provider,{value:e},a.a.createElement(_,null));default:e.state.view;throw new Error("unknown state view: ".concat(e.state.view))}},null)),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.ff509daa.chunk.js.map